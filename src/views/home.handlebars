<section class="page">
  <header class="page-header">
    <div>
      <h1 class="page-title">Listado de productos</h1>
      <p class="page-subtitle">
        Catálogo paginado (limit: {{limit}}).
      </p>
    </div>

    <nav class="page-actions">
      <a href="/realtimeproducts" class="btn btn-outline">Tiempo real</a>
      <a href="/api/products" class="btn btn-ghost" target="_blank">Ver API JSON</a>
    </nav>
  </header>

  {{#if products.length}}
    <section class="products-grid">
      {{#each products}}
        <a href="/api/products/{{this._id}}" class="product-link" target="_blank">
          <article class="product-card">
            <header class="product-card__header">
              <h2 class="product-card__title">{{this.title}}</h2>
              <span class="product-card__price">${{this.price}}</span>
            </header>

            <p class="product-card__description">
              {{this.description}}
            </p>

            <ul class="product-card__meta">
              <li><strong>Categoría:</strong> {{this.category}}</li>
              <li><strong>Código:</strong> {{this.code}}</li>
              <li><strong>Stock:</strong> {{this.stock}}</li>
              <li><strong>ID:</strong> {{this._id}}</li>
            </ul>
          </article>
        </a>
      {{/each}}
    </section>

    <nav class="pagination">
      {{#if hasPrevPage}}
        <a class="btn btn-outline" href="/products?limit={{limit}}&page={{prevPage}}">⬅ Anterior</a>
      {{else}}
        <span class="btn btn-outline is-disabled">⬅ Anterior</span>
      {{/if}}

      <span class="pagination__info">
        Página <strong>{{page}}</strong> de <strong>{{totalPages}}</strong>
      </span>

      {{#if hasNextPage}}
        <a class="btn btn-outline" href="/products?limit={{limit}}&page={{nextPage}}">Siguiente ➡</a>
      {{else}}
        <span class="btn btn-outline is-disabled">Siguiente ➡</span>
      {{/if}}
    </nav>

  {{else}}
    <p>No hay productos cargados todavía. Probá crear alguno desde <a href="/realtimeproducts">Tiempo real</a> o desde la API.</p>
  {{/if}}
</section>
